<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="herusphere" />
  <meta name="theme-color" content="#000000" />
  <title>herusphere â€“ Jeong Hyemin Portfolio</title>
  <link rel="manifest" href="manifest.json" />

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;500;600&family=Space+Grotesk:wght@400;500;600&display=swap" rel="stylesheet" />

  <style>
    :root {
      --bg-dark: #0b1114;
      --bg-panel: #122029;
      --primary: #2d5463;
      --accent: #cf3472;
      --text-light: #f5f6f7;
      --text-muted: #b4c2cc;
      --card-shadow: rgba(0, 0, 0, 0.4);
    }

    * {
      box-sizing: border-box;
      scroll-behavior: smooth;
    }

    html, body {
      margin: 0;
      padding: 0;
      height: 100dvh;
      height: 100vh;
      overflow: hidden;
      font-family: "Pretendard", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #111a21, #060809);
      color: var(--text-light);
      line-height: 1.6;
      position: fixed;
      width: 100%;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      letter-spacing: -0.02em;
    }

    #app-container {
      height: 100dvh;
      height: 100vh;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    /* Starfield Background */
    .starfield {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 0;
      overflow: hidden;
    }

    .star {
      position: absolute;
      background: white;
      border-radius: 50%;
      animation: twinkle 3s infinite;
    }

    @keyframes twinkle {
      0%, 100% { opacity: 0.3; transform: scale(1); }
      50% { opacity: 1; transform: scale(1.2); }
    }

    .star.small {
      width: 1px;
      height: 1px;
    }

    .star.medium {
      width: 2px;
      height: 2px;
    }

    .star.large {
      width: 3px;
      height: 3px;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    img {
      max-width: 100%;
      height: auto;
      display: block;
      border-radius: 12px;
      object-fit: cover;
    }

    header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 100;
      background: rgba(6, 8, 9, 0.5);
      backdrop-filter: blur(20px) saturate(180%);
      -webkit-backdrop-filter: blur(20px) saturate(180%);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      border-image: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent) 1;
      flex-shrink: 0;
    }

    .nav-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      font-family: "Space Grotesk", sans-serif;
      letter-spacing: 0.2em;
      font-weight: 600;
    }

    nav ul {
      list-style: none;
      display: flex;
      gap: 2rem;
      margin: 0;
      padding: 0;
    }

    nav a {
      font-weight: 500;
      color: var(--text-muted);
      transition: color 0.2s ease;
    }

    nav a:hover {
      color: var(--accent);
    }

    main {
      flex: 1;
      overflow-y: auto;
      overflow-x: hidden;
      -webkit-overflow-scrolling: touch;
      max-width: 1200px;
      margin: 0 auto;
      padding: 1rem 1.5rem;
      padding-top: calc(60px + 1rem);
      padding-bottom: calc(80px + 1rem);
      position: relative;
      z-index: 1;
      width: 100%;
    }

    @supports (padding: max(0px)) {
      main {
        padding-left: max(1.5rem, env(safe-area-inset-left));
        padding-right: max(1.5rem, env(safe-area-inset-right));
      }
    }

    section {
      margin-bottom: 2rem;
      padding: 2rem;
      border-radius: 24px;
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px) saturate(180%);
      -webkit-backdrop-filter: blur(20px) saturate(180%);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
      border: 1px solid rgba(255, 255, 255, 0.1);
      position: relative;
      overflow: hidden;
    }

    section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: 
        radial-gradient(circle at 20% 30%, rgba(207, 52, 114, 0.05) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(45, 84, 99, 0.05) 0%, transparent 50%);
      pointer-events: none;
      z-index: 0;
    }

    section > * {
      position: relative;
      z-index: 1;
    }

    .section-heading {
      font-size: 2rem;
      margin-bottom: 1rem;
      font-weight: 600;
    }

    .section-sub {
      color: var(--text-muted);
      margin-bottom: 2.5rem;
      max-width: 800px;
    }

    /* Hero */
    #overview {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 2rem;
      align-items: center;
      position: relative;
      background: rgba(18, 32, 41, 0.85);
      overflow: hidden;
    }

    #overview::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: url('í˜œë¥´ìŠ¤í”¼ì–´.jpg');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      opacity: 0.15;
      z-index: 0;
    }

    #overview > * {
      position: relative;
      z-index: 1;
    }

    .hero-text h1 {
      font-size: clamp(2.5rem, 5vw, 4rem);
      margin: 0 0 1rem;
      letter-spacing: 0.1em;
    }

    .hero-tagline {
      font-weight: 300;
      color: var(--text-muted);
      margin-bottom: 1.5rem;
    }

    .hero-roles {
      color: var(--accent);
      font-size: 0.95rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }

    .hero-img {
      border: 1px solid rgba(255, 255, 255, 0.08);
      padding: 0.5rem;
      border-radius: 20px;
      background: rgba(255, 255, 255, 0.02);
    }

    /* Personas grid */
    .persona-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1.5rem;
    }

    .persona-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px) saturate(180%);
      -webkit-backdrop-filter: blur(20px) saturate(180%);
      border-radius: 18px;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.1);
      padding: 1.2rem;
      display: flex;
      flex-direction: column;
      gap: 1rem;
      transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1), border 0.4s ease, box-shadow 0.4s ease;
      position: relative;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }

    .persona-card::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(207, 52, 114, 0.1) 0%, transparent 70%);
      opacity: 0;
      transition: opacity 0.4s ease;
      pointer-events: none;
    }

    .persona-card:hover {
      transform: translateY(-8px) scale(1.05) rotateY(5deg);
      border-color: var(--accent);
      box-shadow: 0 30px 60px rgba(207, 52, 114, 0.4), 0 0 40px rgba(207, 52, 114, 0.2), 0 0 60px rgba(207, 52, 114, 0.1);
      animation: neonGlow 2s ease-in-out infinite;
    }

    @keyframes neonGlow {
      0%, 100% {
        box-shadow: 0 30px 60px rgba(207, 52, 114, 0.4), 0 0 40px rgba(207, 52, 114, 0.2), 0 0 60px rgba(207, 52, 114, 0.1);
      }
      50% {
        box-shadow: 0 35px 70px rgba(207, 52, 114, 0.5), 0 0 50px rgba(207, 52, 114, 0.3), 0 0 80px rgba(207, 52, 114, 0.2);
      }
    }

    .persona-card:hover::before {
      opacity: 1;
    }

    .persona-card::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(255, 255, 255, 0.3) 0%, transparent 70%);
      transform: translate(-50%, -50%);
      transition: width 0.6s ease, height 0.6s ease;
      pointer-events: none;
    }

    .persona-card:hover::after {
      width: 300px;
      height: 300px;
    }

    .persona-card h3 {
      margin: 0;
      font-size: 1.1rem;
      font-weight: 600;
    }

    .persona-card p {
      margin: 0;
      color: var(--text-muted);
      font-size: 0.9rem;
    }

    .persona-card img {
      height: 180px;
    }

    /* Persona detail sections */
    .persona-detail {
      margin-top: 3rem;
      background: rgba(8, 12, 15, 0.95);
    }

    .persona-detail + .persona-detail {
      margin-top: 2rem;
    }

    .persona-detail h2 {
      margin-top: 0;
      font-size: 1.8rem;
    }

    .persona-gallery {
      margin-top: 1.5rem;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 1rem;
    }

    .portfolio-item {
      position: relative;
      cursor: pointer;
      border-radius: 12px;
      overflow: hidden;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .portfolio-item:hover {
      transform: translateY(-5px) scale(1.02);
      box-shadow: 0 15px 30px rgba(207, 52, 114, 0.3);
    }

    .portfolio-item img {
      width: 100%;
      height: auto;
      display: block;
      transition: filter 0.3s ease;
    }

    .portfolio-item:hover img {
      filter: brightness(1.1);
    }

    .divider-line {
      height: 1px;
      margin: 2rem 0;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    }

    /* Valusophy */
    .valusophy {
      text-align: center;
    }

    .valusophy img {
      margin: 2rem auto;
      max-width: 280px;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .btn {
      display: inline-flex;
      justify-content: center;
      align-items: center;
      padding: 0.9rem 2.2rem;
      border-radius: 999px;
      border: 2px solid var(--accent);
      color: var(--accent);
      font-weight: 600;
      letter-spacing: 0.05em;
      transition: background 0.2s ease, color 0.2s ease;
    }

    .btn:hover {
      background: var(--accent);
      color: #050607;
    }

    footer {
      text-align: center;
      color: var(--text-muted);
      font-size: 0.85rem;
      margin-bottom: 2rem;
    }

    /* Sunheyoon Gallery Styles */
    .gallery-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(6, 8, 9, 0.95);
      z-index: 1000;
      overflow-y: auto;
      backdrop-filter: blur(30px) saturate(180%);
      -webkit-backdrop-filter: blur(30px) saturate(180%);
      opacity: 0;
      animation: spaceTravelIn 1.2s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    }

    .gallery-overlay.active {
      display: block;
    }

    @keyframes spaceTravelIn {
      0% {
        opacity: 0;
        transform: scale(1.2);
        filter: blur(20px);
      }
      50% {
        opacity: 0.5;
        filter: blur(10px);
      }
      100% {
        opacity: 1;
        transform: scale(1);
        filter: blur(0);
      }
    }

    .gallery-overlay::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at 20% 30%, rgba(207, 52, 114, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(45, 84, 99, 0.1) 0%, transparent 50%);
      pointer-events: none;
      z-index: 0;
      animation: planetGlow 8s ease-in-out infinite;
    }

    @keyframes planetGlow {
      0%, 100% { opacity: 0.5; transform: scale(1); }
      50% { opacity: 0.8; transform: scale(1.1); }
    }

    .gallery-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 3rem 2rem;
      position: relative;
      z-index: 1;
    }

    .gallery-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 3rem;
      padding-bottom: 1.5rem;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .gallery-close {
      background: none;
      border: 2px solid var(--accent);
      color: var(--accent);
      padding: 0.6rem 1.5rem;
      border-radius: 999px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.2s ease;
      font-family: inherit;
    }

    .gallery-close:hover {
      background: var(--accent);
      color: #050607;
    }

    .profile-section {
      text-align: center;
      margin-bottom: 4rem;
    }

    .profile-image {
      max-width: 300px;
      margin: 0 auto 2rem;
      border-radius: 20px;
      border: 2px solid rgba(255, 255, 255, 0.1);
    }

    .profile-section h1 {
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
    }

    .profile-section p {
      color: var(--text-muted);
      font-size: 1.1rem;
    }

    .project-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 2rem;
      margin-top: 3rem;
    }

    .project-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px) saturate(180%);
      -webkit-backdrop-filter: blur(20px) saturate(180%);
      border-radius: 20px;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.1);
      cursor: pointer;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      display: flex;
      flex-direction: column;
      position: relative;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }

    .project-card::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(207, 52, 114, 0.2) 0%, transparent 70%);
      transform: translate(-50%, -50%);
      transition: width 0.6s ease, height 0.6s ease;
      pointer-events: none;
      z-index: 0;
    }

    .project-card:hover {
      transform: translateY(-10px) scale(1.05) rotateX(5deg);
      border-color: var(--accent);
      box-shadow: 0 30px 60px rgba(207, 52, 114, 0.4), 0 0 50px rgba(207, 52, 114, 0.2);
    }

    .project-card:hover::before {
      width: 400px;
      height: 400px;
    }

    .project-card > * {
      position: relative;
      z-index: 1;
    }

    .project-card-image {
      width: 100%;
      height: 220px;
      object-fit: cover;
      background: rgba(255, 255, 255, 0.02);
    }

    .project-card-content {
      padding: 1.5rem;
    }

    .project-card h3 {
      margin: 0 0 0.5rem;
      font-size: 1.3rem;
      font-weight: 600;
    }

    .project-card p {
      margin: 0;
      color: var(--text-muted);
      font-size: 0.95rem;
    }

    /* Image Viewer Styles */
    .image-viewer {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.98);
      z-index: 2000;
      overflow: hidden;
      opacity: 0;
    }

    .image-viewer.active {
      display: flex;
      align-items: center;
      justify-content: center;
      animation: spaceTravelIn 1s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    }

    .image-viewer::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at 30% 40%, rgba(207, 52, 114, 0.15) 0%, transparent 40%),
        radial-gradient(circle at 70% 60%, rgba(45, 84, 99, 0.15) 0%, transparent 40%);
      pointer-events: none;
      z-index: 0;
      animation: planetOrbit 12s linear infinite;
    }

    @keyframes planetOrbit {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .viewer-container {
      position: relative;
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .viewer-image {
      max-width: 90%;
      max-height: 90vh;
      object-fit: contain;
      border-radius: 12px;
      box-shadow: 0 30px 60px rgba(0, 0, 0, 0.8);
      position: relative;
      z-index: 1;
      transition: opacity 0.3s ease, transform 0.3s ease, filter 0.3s ease;
    }

    @keyframes imageFadeIn {
      0% {
        opacity: 0;
        transform: scale(0.9) rotateY(-10deg);
        filter: blur(10px);
      }
      100% {
        opacity: 1;
        transform: scale(1) rotateY(0deg);
        filter: blur(0);
      }
    }

    .viewer-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(255, 255, 255, 0.1);
      border: 2px solid rgba(255, 255, 255, 0.2);
      color: white;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 1.5rem;
      font-weight: bold;
      transition: all 0.2s ease;
      backdrop-filter: blur(10px);
    }

    .viewer-nav:hover {
      background: rgba(207, 52, 114, 0.3);
      border-color: var(--accent);
      transform: translateY(-50%) scale(1.1);
    }

    .viewer-nav.prev {
      left: 2rem;
    }

    .viewer-nav.next {
      right: 2rem;
    }

    .viewer-close {
      position: absolute;
      top: 2rem;
      right: 2rem;
      background: rgba(255, 255, 255, 0.1);
      border: 2px solid rgba(255, 255, 255, 0.2);
      color: white;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 1.5rem;
      transition: all 0.2s ease;
      backdrop-filter: blur(10px);
    }

    .viewer-close:hover {
      background: rgba(207, 52, 114, 0.3);
      border-color: var(--accent);
      transform: scale(1.1);
    }

    .viewer-counter {
      position: absolute;
      bottom: 2rem;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0, 0, 0, 0.6);
      color: white;
      padding: 0.8rem 1.5rem;
      border-radius: 999px;
      font-size: 0.95rem;
      backdrop-filter: blur(10px);
    }

    /* Dohaena Description Modal */
    .description-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      z-index: 3000;
      align-items: center;
      justify-content: center;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .description-modal.active {
      display: flex;
      animation: modalFadeIn 0.3s ease forwards;
    }

    @keyframes modalFadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }

    .description-content {
      background: rgba(18, 32, 41, 0.95);
      border-radius: 24px;
      padding: 3rem;
      max-width: 600px;
      width: 90%;
      border: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 0 30px 60px rgba(0, 0, 0, 0.8);
      position: relative;
      transform: scale(0.9);
      animation: modalScaleIn 0.3s ease forwards;
    }

    @keyframes modalScaleIn {
      to {
        transform: scale(1);
      }
    }

    .description-close {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: rgba(255, 255, 255, 0.1);
      border: 2px solid rgba(255, 255, 255, 0.2);
      color: white;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 1.5rem;
      transition: all 0.2s ease;
    }

    .description-close:hover {
      background: rgba(207, 52, 114, 0.3);
      border-color: var(--accent);
      transform: scale(1.1);
    }

    .description-content h3 {
      margin-top: 0;
      margin-bottom: 1rem;
      font-size: 1.8rem;
      color: var(--accent);
    }

    .description-content p {
      margin: 0;
      line-height: 1.8;
      color: var(--text-light);
      font-size: 1.05rem;
    }

    /* Dashboard Styles */
    .dashboard-section {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    .greeting-card,
    .status-card,
    .recent-activity-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px) saturate(180%);
      -webkit-backdrop-filter: blur(20px) saturate(180%);
      border-radius: 20px;
      padding: 2rem;
      border: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      transition: all 0.3s ease;
    }

    .greeting-card:hover,
    .status-card:hover,
    .recent-activity-card:hover {
      border-color: rgba(207, 52, 114, 0.3);
      box-shadow: 0 12px 40px rgba(207, 52, 114, 0.2);
    }

    .project-item,
    .activity-item {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 1rem;
      border-radius: 12px;
      background: rgba(255, 255, 255, 0.03);
      margin-bottom: 0.75rem;
      transition: all 0.2s ease;
    }

    .project-item:hover,
    .activity-item:hover {
      background: rgba(255, 255, 255, 0.05);
      transform: translateX(4px);
    }

    .project-icon,
    .activity-icon {
      font-size: 1.5rem;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 10px;
      background: rgba(207, 52, 114, 0.1);
    }

    .project-summary,
    .activity-list {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    /* Persona Chat Modal */
    .persona-chat-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(6, 8, 9, 0.98);
      z-index: 2000;
      backdrop-filter: blur(30px);
      -webkit-backdrop-filter: blur(30px);
    }

    .persona-chat-modal.active {
      display: flex;
      flex-direction: column;
    }

    .chat-container {
      display: flex;
      flex-direction: column;
      height: 100%;
      max-width: 800px;
      margin: 0 auto;
      width: 100%;
    }

    .chat-header {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 1rem 1.5rem;
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .chat-back,
    .chat-menu {
      background: none;
      border: none;
      color: var(--text-light);
      font-size: 1.5rem;
      cursor: pointer;
      padding: 0.5rem;
      border-radius: 8px;
      transition: background 0.2s ease;
    }

    .chat-back:hover,
    .chat-menu:hover {
      background: rgba(255, 255, 255, 0.1);
    }

    .chat-persona-info {
      display: flex;
      align-items: center;
      gap: 1rem;
      flex: 1;
    }

    .chat-persona-avatar {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      background: rgba(207, 52, 114, 0.2);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      border: 2px solid rgba(207, 52, 114, 0.3);
    }

    .chat-persona-name {
      font-weight: 600;
      font-size: 1.1rem;
    }

    .chat-persona-status {
      font-size: 0.85rem;
      color: var(--text-muted);
    }

    .chat-messages {
      flex: 1;
      overflow-y: auto;
      padding: 1.5rem;
      display: flex;
      flex-direction: column;
      gap: 1rem;
      -webkit-overflow-scrolling: touch;
    }

    .message {
      display: flex;
      gap: 0.75rem;
      animation: messageSlideIn 0.3s ease;
    }

    @keyframes messageSlideIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .message-ai {
      justify-content: flex-start;
    }

    .message-user {
      justify-content: flex-end;
    }

    .message-content {
      max-width: 70%;
      padding: 1rem 1.25rem;
      border-radius: 18px;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      line-height: 1.6;
      font-size: 1rem;
    }

    .message-user .message-content {
      background: linear-gradient(135deg, rgba(207, 52, 114, 0.2), rgba(207, 52, 114, 0.1));
      border-color: rgba(207, 52, 114, 0.3);
    }

    .chat-input-area {
      display: flex;
      align-items: flex-end;
      gap: 0.75rem;
      padding: 1rem 1.5rem;
      padding-bottom: calc(1rem + env(safe-area-inset-bottom));
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }

    .chat-attach,
    .chat-send {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      color: var(--text-light);
      padding: 0.75rem 1.25rem;
      border-radius: 20px;
      cursor: pointer;
      font-size: 1rem;
      transition: all 0.2s ease;
      font-weight: 500;
    }

    .chat-send {
      background: linear-gradient(135deg, var(--accent), #ff6b9d);
      border: none;
      color: white;
    }

    .chat-attach:hover,
    .chat-send:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 12px rgba(207, 52, 114, 0.3);
    }

    .page-content {
      display: none;
    }

    .page-content.active {
      display: block;
    }

    /* Bottom Navigation Bar */
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      height: 80px;
      padding-bottom: env(safe-area-inset-bottom);
      background: rgba(6, 8, 9, 0.5);
      backdrop-filter: blur(20px) saturate(180%);
      -webkit-backdrop-filter: blur(20px) saturate(180%);
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      display: flex;
      justify-content: space-around;
      align-items: flex-start;
      z-index: 100;
      flex-shrink: 0;
    }

    .nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 0.5rem 1rem;
      color: var(--text-muted);
      transition: color 0.2s ease;
      text-decoration: none;
      position: relative;
      flex: 1;
      max-width: 120px;
    }

    .nav-item svg {
      margin-bottom: 0.25rem;
      transition: transform 0.2s ease;
    }

    .nav-item.active,
    .nav-item:hover {
      color: var(--accent);
    }

    .nav-item.active svg,
    .nav-item:hover svg {
      transform: scale(1.1);
    }

    .nav-item span {
      font-size: 0.85rem;
      letter-spacing: -0.01em;
      font-weight: 500;
    }

    .nav-item-create {
      position: relative;
      flex: 0 0 auto;
    }

    .create-button {
      width: 64px;
      height: 64px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--accent), #ff6b9d);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 8px 24px rgba(207, 52, 114, 0.4), 0 0 20px rgba(207, 52, 114, 0.3);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      position: relative;
      top: -16px;
      animation: pulseGlow 2s ease-in-out infinite;
    }

    @keyframes pulseGlow {
      0%, 100% {
        box-shadow: 0 8px 24px rgba(207, 52, 114, 0.4), 0 0 20px rgba(207, 52, 114, 0.3);
      }
      50% {
        box-shadow: 0 12px 32px rgba(207, 52, 114, 0.6), 0 0 30px rgba(207, 52, 114, 0.5);
      }
    }

    .create-button:hover,
    .create-button:active {
      transform: scale(1.15);
      box-shadow: 0 16px 40px rgba(207, 52, 114, 0.7), 0 0 40px rgba(207, 52, 114, 0.6);
    }

    .create-button svg {
      color: white;
      margin: 0;
    }

    .nav-item-create span {
      position: relative;
      top: -8px;
    }

    @media (max-width: 768px) {
      header {
        position: fixed;
      }

      nav ul {
        gap: 1rem;
        font-size: 1rem;
      }

      section {
        padding: 1.5rem;
      }

      .persona-card {
        padding: 1.5rem;
        min-height: 200px;
      }

      .persona-card img {
        height: 180px;
      }

      .persona-card h3 {
        font-size: 1.2rem;
      }

      .persona-card p {
        font-size: 1rem;
      }

      .section-heading {
        font-size: 1.8rem;
      }

      .section-sub {
        font-size: 1.05rem;
      }

      .nav-item {
        padding: 0.75rem 1rem;
        min-height: 60px;
      }

      .nav-item svg {
        width: 28px;
        height: 28px;
      }

      .nav-item span {
        font-size: 0.9rem;
      }

      .create-button {
        width: 72px;
        height: 72px;
        top: -20px;
      }

      .create-button svg {
        width: 36px;
        height: 36px;
      }

      .greeting-card h1 {
        font-size: 1.8rem;
      }

      .greeting-card p {
        font-size: 1.05rem;
      }

      .status-card h3,
      .recent-activity-card h3 {
        font-size: 1.4rem;
      }

      .gallery-container {
        padding: 2rem 1rem;
      }

      .project-grid {
        grid-template-columns: 1fr;
        gap: 1.5rem;
      }

      .viewer-nav {
        width: 50px;
        height: 50px;
        font-size: 1.2rem;
      }

      .viewer-nav.prev {
        left: 1rem;
      }

      .viewer-nav.next {
        right: 1rem;
      }

      .viewer-close {
        top: 1rem;
        right: 1rem;
        width: 40px;
        height: 40px;
      }
    }
  </style>
</head>
<body>
  <div id="app-container">
  <!--
    ì´ë¯¸ì§€ êµì²´ ë°©ë²•:
    1. /images í´ë”ì— ë‚´ ì´ë¯¸ì§€ íŒŒì¼ì„ ë„£ëŠ”ë‹¤.
    2. ì•„ë˜ img íƒœê·¸ë“¤ì˜ src ê²½ë¡œë¥¼ ë‚´ íŒŒì¼ ì´ë¦„ìœ¼ë¡œ êµì²´í•œë‹¤.
    3. alt í…ìŠ¤íŠ¸ë„ ì›í•˜ëŠ” ì„¤ëª…ìœ¼ë¡œ ë°”ê¾¼ë‹¤.
  -->

  <header>
    <div class="nav-container">
      <div class="logo">herusphere</div>
      <nav>
        <ul>
          <li><a href="#overview">Overview</a></li>
          <li><a href="#personas">Personas</a></li>
          <li><a href="#valusophy">Valusophy Universe</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main>
    <!-- Home Page (Dashboard) -->
    <div class="page-content" id="page-home" style="display: block;">
      <section class="dashboard-section">
        <div class="greeting-card">
          <h1 style="font-size: 2rem; margin: 0 0 0.5rem;">ì•ˆë…•í•˜ì„¸ìš”, ì •í˜œë¯¼ë‹˜</h1>
          <p style="font-size: 1.1rem; color: var(--text-muted); margin: 0;">ì˜¤ëŠ˜ì€ ì–´ë–¤ í˜ë¥´ì†Œë‚˜ë¡œ í™œë™í• ê¹Œìš”?</p>
        </div>

        <div class="status-card">
          <h3 style="margin: 0 0 1rem; font-size: 1.3rem;">ì§„í–‰ ì¤‘ì¸ í”„ë¡œì íŠ¸</h3>
          <div class="project-summary">
            <div class="project-item">
              <div class="project-icon">ğŸ“</div>
              <div>
                <div style="font-weight: 600; margin-bottom: 0.25rem;">ë¸Œëœì‹œìŠ¤ ë§¤ê±°ì§„ ê¸°íš</div>
                <div style="font-size: 0.9rem; color: var(--text-muted);">ì§„í–‰ë¥ : 75%</div>
              </div>
            </div>
            <div class="project-item">
              <div class="project-icon">ğŸ¨</div>
              <div>
                <div style="font-weight: 600; margin-bottom: 0.25rem;">ì°½ê³µ ë¸Œëœë”©</div>
                <div style="font-size: 0.9rem; color: var(--text-muted);">ìµœì¢… ê²€í†  ì¤‘</div>
              </div>
            </div>
          </div>
        </div>

        <div class="recent-activity-card">
          <h3 style="margin: 0 0 1rem; font-size: 1.3rem;">ìµœê·¼ í™œë™</h3>
          <div class="activity-list">
            <div class="activity-item">
              <div class="activity-icon">âœ¨</div>
              <div style="flex: 1;">
                <div style="font-weight: 500; margin-bottom: 0.25rem;">ë„í˜œë‚˜ ì—ë””í„°ë¡œ ì—ì„¸ì´ ì‘ì„±</div>
                <div style="font-size: 0.85rem; color: var(--text-muted);">2ì‹œê°„ ì „</div>
              </div>
            </div>
            <div class="activity-item">
              <div class="activity-icon">ğŸ–¼ï¸</div>
              <div style="flex: 1;">
                <div style="font-weight: 500; margin-bottom: 0.25rem;">ì„ í˜œìœ¤ í¬íŠ¸í´ë¦¬ì˜¤ ì´ë¯¸ì§€ ì—…ë¡œë“œ</div>
                <div style="font-size: 0.85rem; color: var(--text-muted);">5ì‹œê°„ ì „</div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- Agent Page (Persona Gallery) -->
    <div class="page-content" id="page-agent" style="display: none;">
      <section id="personas">
        <h2 class="section-heading">í˜ë¥´ì†Œë‚˜ ì„ íƒ</h2>
        <p class="section-sub">ì–´ë–¤ í˜ë¥´ì†Œë‚˜ì™€ ëŒ€í™”í•˜ì‹œê² ì–´ìš”?</p>

      <div class="persona-grid">
        <a class="persona-card" href="#" onclick="event.preventDefault(); openPersonaChat('ë„í˜œë‚˜'); return false;">
          <img src="ë„í˜œë‚˜/ë„í˜œë‚˜ í”„ë¡œí•„.JPG" alt="Do Haena editor" />
          <h3>ë„í˜œë‚˜ ì—ë””í„°</h3>
          <p>ë¸Œëœì‹œìŠ¤ ë§¤ê±°ì§„ ì—ë””í„°, ì¤‘ì•™ëŒ€ ì¡¸ì—…ìƒ</p>
        </a>

        <a class="persona-card" href="#" onclick="event.preventDefault(); openPersonaChat('ì„ í˜œìœ¤'); return false;">
          <img src="ì„ í˜œìœ¤/ì„ í˜œìœ¤í”„ë¡œí•„.png" alt="Sun Heyoon marketer" />
          <h3>ì„ í˜œìœ¤ ë¸Œëœë“œ ë§ˆì¼€í„°</h3>
          <p>ì°½ê³µ Â· ë¸Œëœì‹œìŠ¤ Â· ì—‘ìŠ¤í—¤ì¼ Â· í•œê°€ Â· ë°œë£¨ì†Œí”¼ í”„ë¡œì íŠ¸</p>
        </a>

        <a class="persona-card" href="#" onclick="event.preventDefault(); openPersonaChat('ì„œì´ì •'); return false;">
          <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&w=800&q=80" alt="Seo Ijeong philosopher" />
          <h3>ì„œì´ì • ì² í•™ê°€</h3>
          <p>ì¸ìŠ¤íƒ€ê·¸ë¨ ì² í•™ ì—ì„¸ì´ & ê°€ì¹˜ê´€ ì •ë¦¬</p>
        </a>

        <a class="persona-card" href="#" onclick="event.preventDefault(); openPersonaChat('í•œí˜œë‘'); return false;">
          <img src="https://images.unsplash.com/photo-1517841905240-472988babdf9?auto=format&fit=crop&w=800&q=80" alt="Han Haerang character" />
          <h3>í•œí˜œë‘ â€“ í•œê°€ë¬¸ ë§‰ë‚´</h3>
          <p>í•œê°€ í…€ë¸”ë²… êµ¿ì¦ˆ ì„¸ê³„ê´€ ì£¼ì¸ê³µ</p>
        </a>

        <a class="persona-card" href="#" onclick="event.preventDefault(); openPersonaChat('ì²œë‹¤í˜œ'); return false;">
          <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=crop&w=800&q=80" alt="Cheon Dahye influencer" />
          <h3>ì²œë‹¤í˜œ ì¸í”Œë£¨ì–¸ì„œ</h3>
          <p>ë¦´ìŠ¤Â·í‹±í†¡ ë°©ì†¡Â·ë°” ë¼ì´ë¸Œ ê³µì—°</p>
        </a>

        <a class="persona-card" href="#" onclick="event.preventDefault(); openPersonaChat('í—¤ë¥´ë¯¸ë„¤'); return false;">
          <img src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?auto=format&fit=crop&w=800&q=80" alt="Hermine writer" />
          <h3>í—¤ë¥´ë¯¸ë„¤ ì‘ê°€</h3>
          <p>ì†Œì„¤ê³¼ ë¬¸í•™ í…ìŠ¤íŠ¸ì˜ ì°½ì‘ì</p>
        </a>

        <a class="persona-card" href="#" onclick="event.preventDefault(); openPersonaChat('ì‚¬ì—¬ë³„'); return false;">
          <img src="https://images.unsplash.com/photo-1517849845537-4d257902454a?auto=format&fit=crop&w=800&q=80" alt="Saya Byeol fox character" />
          <h3>ì‚¬ì—¬ë³„ â€“ ì—¬ìš° ìºë¦­í„°</h3>
          <p>ì—¬ìš°ì˜ ì—¬ì • Â· ì• ë‹ˆë©”ì´ì…˜ Â· ìºë¦­í„° ì•„íŠ¸</p>
        </a>
      </div>
      </section>
    </div>

    <!-- Settings Page -->
    <div class="page-content" id="page-settings" style="display: none;">
      <section class="settings-section">
        <h2 class="section-heading">Settings</h2>
        <div class="status-card">
          <h3 style="margin: 0 0 1rem; font-size: 1.3rem;">ì‹œìŠ¤í…œ ìƒíƒœ</h3>
          <div id="systemStatus" style="padding: 1rem; border-radius: 12px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); font-size: 1rem;">
            <div style="margin-bottom: 0.5rem;">n8n ì—°ê²°: <span id="n8nStatus" style="color: var(--accent);">í™•ì¸ ì¤‘...</span></div>
            <div>ë§ˆì§€ë§‰ ë™ê¸°í™”: <span id="lastSync" style="color: var(--text-muted);">-</span></div>
          </div>
        </div>
        <div class="status-card">
          <h3 style="margin: 0 0 1rem; font-size: 1.3rem;">ì•± ì •ë³´</h3>
          <div style="padding: 1rem; border-radius: 12px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); font-size: 1rem;">
            <div style="margin-bottom: 0.5rem;">ë²„ì „: 1.0.0</div>
            <div>herusphere Â© 2025</div>
          </div>
        </div>
      </section>
    </div>

      <div class="divider-line"></div>

      <!-- Persona detail sections -->
      <section class="persona-detail" id="dohaena">
        <h2>ë„í˜œë‚˜ ì—ë””í„°</h2>
        <p>ë¸Œëœì‹œìŠ¤ ë§¤ê±°ì§„ì—ì„œ ê¸°íšê³¼ í¸ì§‘ì„ ì´ëŒë©°, ë„ì‹œì™€ ë¬¸í™”ì˜ ê²½ê³„ë¥¼ ë„˜ë‚˜ë“œëŠ” ì—ë””í† ë¦¬ì–¼ì„ ì„ ë³´ì…ë‹ˆë‹¤. ì¤‘ì•™ëŒ€ì—ì„œ ìŒ“ì€ ì¸ë¬¸í•™ì  ê¸°ë°˜ì„ ë°”íƒ•ìœ¼ë¡œ, í…ìŠ¤íŠ¸ì™€ ì´ë¯¸ì§€ê°€ ê³µì¡´í•˜ëŠ” ê°ê°ì  ìŠ¤í† ë¦¬í…”ë§ì„ ì™„ì„±í•©ë‹ˆë‹¤.</p>
        <div class="persona-gallery dohaena-gallery">
          <div class="portfolio-item" onclick="showDohaenaDescription(0)">
            <img src="https://images.unsplash.com/photo-1522202176988-66273c2fd55f?auto=format&fit=crop&w=800&q=80" alt="Do Haena work 1" />
          </div>
          <div class="portfolio-item" onclick="showDohaenaDescription(1)">
            <img src="https://images.unsplash.com/photo-1552664730-d307ca884978?auto=format&fit=crop&w=800&q=80" alt="Do Haena work 2" />
          </div>
          <div class="portfolio-item" onclick="showDohaenaDescription(2)">
            <img src="https://images.unsplash.com/photo-1460925895917-afdab827c52f?auto=format&fit=crop&w=800&q=80" alt="Do Haena work 3" />
          </div>
          <div class="portfolio-item" onclick="showDohaenaDescription(3)">
            <img src="https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?auto=format&fit=crop&w=800&q=80" alt="Do Haena work 4" />
          </div>
          <div class="portfolio-item" onclick="showDohaenaDescription(4)">
            <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&w=800&q=80" alt="Do Haena work 5" />
          </div>
          <div class="portfolio-item" onclick="showDohaenaDescription(5)">
            <img src="https://images.unsplash.com/photo-1556155092-490a1ba16284?auto=format&fit=crop&w=800&q=80" alt="Do Haena work 6" />
          </div>
          <div class="portfolio-item" onclick="showDohaenaDescription(6)">
            <img src="https://images.unsplash.com/photo-1558655146-364adaf1fcc9?auto=format&fit=crop&w=800&q=80" alt="Do Haena work 7" />
          </div>
          <div class="portfolio-item" onclick="showDohaenaDescription(7)">
            <img src="https://images.unsplash.com/photo-1558655146-d09347e92766?auto=format&fit=crop&w=800&q=80" alt="Do Haena work 8" />
          </div>
          <div class="portfolio-item" onclick="showDohaenaDescription(8)">
            <img src="https://images.unsplash.com/photo-1552664730-d307ca884978?auto=format&fit=crop&w=800&q=80" alt="Do Haena work 9" />
          </div>
          <div class="portfolio-item" onclick="showDohaenaDescription(9)">
            <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&w=800&q=80" alt="Do Haena work 10" />
          </div>
          <div class="portfolio-item" onclick="showDohaenaDescription(10)">
            <img src="https://images.unsplash.com/photo-1460925895917-afdab827c52f?auto=format&fit=crop&w=800&q=80" alt="Do Haena work 11" />
          </div>
          <div class="portfolio-item" onclick="showDohaenaDescription(11)">
            <img src="https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?auto=format&fit=crop&w=800&q=80" alt="Do Haena work 12" />
          </div>
          <div class="portfolio-item" onclick="showDohaenaDescription(12)">
            <img src="https://images.unsplash.com/photo-1556155092-490a1ba16284?auto=format&fit=crop&w=800&q=80" alt="Do Haena work 13" />
          </div>
        </div>
      </section>


      <section class="persona-detail" id="seoijeong">
        <h2>ì„œì´ì • ì² í•™ê°€</h2>
        <p>ì¸ìŠ¤íƒ€ê·¸ë¨ ì² í•™ ì—ì„¸ì´ë¥¼ í†µí•´ ì¼ìƒ ì† ì§ˆë¬¸ì— ë‹µí•˜ê³ , êµ­ê°€ ìš´ì˜ ì² í•™ ë° ê°€ì¹˜ê´€ ì²´ê³„ë¥¼ ì„¤ê³„í•©ë‹ˆë‹¤. ì–¸ì–´ì˜ ë¯¸í•™ê³¼ ë…¼ë¦¬ì  êµ¬ì¡°ë¥¼ ê²°í•©í•´ ë””ì§€í„¸ ì‹œëŒ€ì˜ ìƒˆë¡œìš´ ì² í•™ì  ë‹´ë¡ ì„ ì œì‹œí•©ë‹ˆë‹¤.</p>
        <div class="persona-gallery">
          <img src="https://images.unsplash.com/photo-1455390582262-044cdead277a?auto=format&fit=crop&w=800&q=80" alt="Seo Ijeong essay 1" />
          <img src="https://images.unsplash.com/photo-1481627834876-b7833e8f5570?auto=format&fit=crop&w=800&q=80" alt="Seo Ijeong essay 2" />
          <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&w=800&q=80" alt="Seo Ijeong essay 3" />
        </div>
      </section>

      <section class="persona-detail" id="hanhaerang">
        <h2>í•œí˜œë‘ â€“ í•œê°€ë¬¸ ë§‰ë‚´</h2>
        <p>í•œê°€ í…€ë¸”ë²… êµ¿ì¦ˆ ì‚¬ì—… ì„¸ê³„ê´€ ì† ìƒë™ê° ë„˜ì¹˜ëŠ” ìºë¦­í„°. êµ¿ì¦ˆ ì œì‘ ê³¼ì •ê³¼ íŒ¬ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ì„ ì§ì ‘ ê´€ë¦¬í•˜ë©°, ì„¸ê³„ê´€ ê¸°ë°˜ ì»¤ë¨¸ìŠ¤ì˜ ì ì¬ë ¥ì„ ì…ì¦í•©ë‹ˆë‹¤.</p>
        <div class="persona-gallery">
          <img src="https://images.unsplash.com/photo-1517841905240-472988babdf9?auto=format&fit=crop&w=800&q=80" alt="Han Haerang goods 1" />
          <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=crop&w=800&q=80" alt="Han Haerang goods 2" />
          <img src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?auto=format&fit=crop&w=800&q=80" alt="Han Haerang goods 3" />
          <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?auto=format&fit=crop&w=800&q=80" alt="Han Haerang goods 4" />
        </div>
      </section>

      <section class="persona-detail" id="cheondahye">
        <h2>ì²œë‹¤í˜œ ì¸í”Œë£¨ì–¸ì„œ</h2>
        <p>ë¦´ìŠ¤ì™€ í‹±í†¡ì„ ì¤‘ì‹¬ìœ¼ë¡œ í¼í¬ë¨¼ìŠ¤ì™€ ìŠ¤í† ë¦¬í…”ë§ì„ ê²°í•©í•œ ì½˜í…ì¸ ë¥¼ ì œì‘í•©ë‹ˆë‹¤. ë°” ë¼ì´ë¸Œ ê³µì—° ì˜ìƒê³¼ ì¹´ë©”ë¼ ì•ì—ì„œì˜ ë‹¤ì±„ë¡œìš´ ê°ì •ì„ ì„ í†µí•´ ì‹œì²­ìì™€ ì§ì ‘ ì—°ê²°ë©ë‹ˆë‹¤.</p>
        <div class="persona-gallery d-flex">
          <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=crop&w=800&q=80" alt="Cheon Dahye media 1" />
          <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?auto=format&fit=crop&w=800&q=80" alt="Cheon Dahye media 2" />
          <img src="https://images.unsplash.com/photo-1508214751196-bcfd4ca60f91?auto=format&fit=crop&w=800&q=80" alt="Cheon Dahye media 3" />
        </div>
      </section>

      <section class="persona-detail" id="hermine">
        <h2>í—¤ë¥´ë¯¸ë„¤ ì‘ê°€</h2>
        <p>ì†Œì„¤ê³¼ ë¬¸í•™ì„ í†µí•´ ë‚´ë©´ì˜ ì„¸ê³„ë¥¼ ê¸°ë¡í•˜ëŠ” ì‘ê°€ í˜ë¥´ì†Œë‚˜. ì¥ë¥´ë¥¼ ë„˜ë‚˜ë“œëŠ” ì‹¤í—˜ì  ì„œì‚¬ì™€ ì„¬ì„¸í•œ ë¬¸ì¥ìœ¼ë¡œ ë…ìì˜ ê°ê°ì„ ì¼ê¹¨ì›ë‹ˆë‹¤.</p>
        <div class="persona-gallery">
          <img src="https://images.unsplash.com/photo-1481627834876-b7833e8f5570?auto=format&fit=crop&w=800&q=80" alt="Hermine manuscript 1" />
          <img src="https://images.unsplash.com/photo-1455390582262-044cdead277a?auto=format&fit=crop&w=800&q=80" alt="Hermine manuscript 2" />
          <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&w=800&q=80" alt="Hermine manuscript 3" />
          <img src="https://images.unsplash.com/photo-1522202176988-66273c2fd55f?auto=format&fit=crop&w=800&q=80" alt="Hermine manuscript 4" />
        </div>
      </section>

      <section class="persona-detail" id="sayabyeol">
        <h2>ì‚¬ì—¬ë³„ â€“ ì—¬ìš° ìºë¦­í„°</h2>
        <p>ì—¬ìš°ì˜ ì—¬ì •ì´ë¼ëŠ” ì• ë‹ˆë©”ì´ì…˜/ì†Œì„¤ í”„ë¡œì íŠ¸ì˜ í•µì‹¬ ìºë¦­í„°. ë‹¤ì¸µì ì¸ ê°ì •ì„ ê³¼ ë¹„ì£¼ì–¼ ìŠ¤í† ë¦¬í…”ë§ìœ¼ë¡œ ê´€ê°ì˜ ëª°ì…ì„ ì´ëŒì–´ëƒ…ë‹ˆë‹¤.</p>
        <div class="persona-gallery">
          <img src="https://images.unsplash.com/photo-1517849845537-4d257902454a?auto=format&fit=crop&w=800&q=80" alt="Saya Byeol art 1" />
          <img src="https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?auto=format&fit=crop&w=800&q=80" alt="Saya Byeol art 2" />
          <img src="https://images.unsplash.com/photo-1517841905240-472988babdf9?auto=format&fit=crop&w=800&q=80" alt="Saya Byeol art 3" />
          <img src="https://images.unsplash.com/photo-1517849845537-4d257902454a?auto=format&fit=crop&w=800&q=80" alt="Saya Byeol art 4" />
        </div>
      </section>
    </section>

    <section id="valusophy" class="valusophy">
      <h2 class="section-heading">Valusophy Universe</h2>
      <p class="section-sub">ì´ ëª¨ë“  í˜ë¥´ì†Œë‚˜ëŠ” ë°œë£¨ì†Œí”¼ë¼ëŠ” ê±°ëŒ€í•œ ì„¸ê³„ê´€ ì•ˆì—ì„œ ì—°ê²°ë˜ê³  í™•ì¥ë©ë‹ˆë‹¤. ê°€ì¹˜(Value)ì™€ ì² í•™(Philosophy)ì´ ê³µê°„ì„ ë§Œë“¤ê³ , í˜ë¥´ì†Œë‚˜ëŠ” ê·¸ ì•ˆì—ì„œ ì‚´ì•„ ìˆ¨ ì‰½ë‹ˆë‹¤.</p>
      <!-- TODO: ì—¬ê¸° src ê²½ë¡œë¥¼ ë‚´ ì»´í“¨í„°ì˜ ì‹¤ì œ ì´ë¯¸ì§€ íŒŒì¼ ê²½ë¡œë¡œ êµì²´í•´ì„œ ì‚¬ìš©í•˜ì„¸ìš” -->
      <img src="https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?auto=format&fit=crop&w=800&q=80" alt="Valusophy symbol" />
      <!-- TODO: ë²„íŠ¼ ë§í¬ë¥¼ ì‹¤ì œ ë°œë£¨ì†Œí”¼ ë©”ì¸ ì‚¬ì´íŠ¸ URLë¡œ êµì²´í•˜ì„¸ìš” -->
      <a class="btn" href="#">ë°œë£¨ì†Œí”¼ ë©”ì¸ ì‚¬ì´íŠ¸ë¡œ ì´ë™</a>
    </section>
  </main>

  <footer>
    Â© 2025 herusphere â€“ Curated universe of Jeong Hyemin
  </footer>

  <!-- Bottom Navigation Bar -->
  <nav class="bottom-nav">
    <a href="#" class="nav-item" data-page="home" onclick="event.preventDefault(); showPage('home'); return false;">
      <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
        <polyline points="9 22 9 12 15 12 15 22"></polyline>
      </svg>
      <span>Home</span>
    </a>
    <a href="#" class="nav-item" data-page="agent" onclick="event.preventDefault(); showPage('agent'); return false;">
      <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
        <circle cx="12" cy="7" r="4"></circle>
      </svg>
      <span>Agent</span>
    </a>
    <a href="#" class="nav-item nav-item-create" data-page="create" onclick="event.preventDefault(); showCreateModal(); return false;">
      <div class="create-button">
        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
          <line x1="12" y1="5" x2="12" y2="19"></line>
          <line x1="5" y1="12" x2="19" y2="12"></line>
        </svg>
      </div>
    </a>
    <a href="#" class="nav-item" data-page="settings" onclick="event.preventDefault(); showPage('settings'); return false;">
      <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
        <circle cx="12" cy="12" r="3"></circle>
        <path d="M12 1v6m0 6v6m11-7h-6m-6 0H1m15.364-5.364l-4.243 4.243m0 4.243l4.243 4.243M8.636 8.636L4.393 4.393m0 15.214l4.243-4.243"></path>
      </svg>
      <span>Settings</span>
    </a>
  </nav>
  </div>

  <!-- Sunheyoon Gallery Overlay -->
  <div class="gallery-overlay" id="sunheyoonGallery">
    <div class="gallery-container">
      <div class="gallery-header">
        <h2 style="margin: 0; font-size: 2rem;">ì„ í˜œìœ¤ í¬íŠ¸í´ë¦¬ì˜¤</h2>
        <button class="gallery-close" onclick="closeSunheyoonGallery()">ë‹«ê¸°</button>
      </div>

      <div class="profile-section">
        <img src="ì„ í˜œìœ¤/ì„ í˜œìœ¤í”„ë¡œí•„.png" alt="ì„ í˜œìœ¤ í”„ë¡œí•„" class="profile-image" />
        <h1>ì„ í˜œìœ¤</h1>
        <p>ë¸Œëœë“œ ë§ˆì¼€í„° Â· ì „ëµê³¼ ê°ì„±ì„ ì—°ê²°í•˜ëŠ” í¬ë¦¬ì—ì´í„°</p>
      </div>

      <div class="project-grid">
        <div class="project-card" onclick="openImageViewer('ì°½ê³µ')">
          <img src="ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/1.png" alt="ì°½ê³µ" class="project-card-image" />
          <div class="project-card-content">
            <h3>ì°½ê³µ</h3>
            <p>ë¸Œëœë“œ ë¡ ì¹­ ì œì•ˆì„œ</p>
          </div>
        </div>

        <div class="project-card" onclick="openImageViewer('í•œê°€')">
          <img src="ì„ í˜œìœ¤/HANGA/17.png" alt="í•œê°€" class="project-card-image" />
          <div class="project-card-content">
            <h3>í•œê°€</h3>
            <p>ë¸Œëœë”© í”„ë¡œì íŠ¸</p>
          </div>
        </div>

        <div class="project-card" onclick="openImageViewer('xhale')">
          <img src="ì„ í˜œìœ¤/X HALE ENT/1.png" alt="X HALE ENT" class="project-card-image" />
          <div class="project-card-content">
            <h3>X HALE ENT</h3>
            <p>ì—”í„°í…Œì¸ë¨¼íŠ¸ ë¸Œëœë”©</p>
          </div>
        </div>

        <div class="project-card" onclick="openImageViewer('ë©”ê±°ì§„')">
          <img src="ì„ í˜œìœ¤/ë§¤ê±°ì§„ ì‹œë©˜íŠ¸ í”¼ë“œ/1.png" alt="ë§¤ê±°ì§„ ì‹œë©˜íŠ¸ í”¼ë“œ" class="project-card-image" />
          <div class="project-card-content">
            <h3>ë§¤ê±°ì§„ ì‹œë©˜íŠ¸ í”¼ë“œ</h3>
            <p>ì—ë””í† ë¦¬ì–¼ í”„ë¡œì íŠ¸</p>
          </div>
        </div>

        <div class="project-card" onclick="openImageViewer('ë°œë£¨ë„ì„œê´€')">
          <img src="ì„ í˜œìœ¤/ë°œë£¨ë„ì„œê´€ ì•„íŠ¸ì›/1.png" alt="ë°œë£¨ë„ì„œê´€ ì•„íŠ¸ì›" class="project-card-image" />
          <div class="project-card-content">
            <h3>ë°œë£¨ë„ì„œê´€ ì•„íŠ¸ì›</h3>
            <p>ì•„íŠ¸ì›Œí¬ ì»¬ë ‰ì…˜</p>
          </div>
        </div>

        <div class="project-card" onclick="openImageViewer('ì„ í˜œìœ¤ì•„íŠ¸ì›')">
          <img src="ì„ í˜œìœ¤/ì„ í˜œìœ¤ ì•„íŠ¸ì›/48.png" alt="ì„ í˜œìœ¤ ì•„íŠ¸ì›" class="project-card-image" />
          <div class="project-card-content">
            <h3>ì„ í˜œìœ¤ ì•„íŠ¸ì›</h3>
            <p>ê°œì¸ ì•„íŠ¸ì›Œí¬</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Image Viewer -->
  <div class="image-viewer" id="imageViewer">
    <div class="viewer-container">
      <button class="viewer-nav prev" onclick="changeImage(-1)">â€¹</button>
      <img id="viewerImage" src="" alt="" class="viewer-image" />
      <button class="viewer-nav next" onclick="changeImage(1)">â€º</button>
      <button class="viewer-close" onclick="closeImageViewer()">Ã—</button>
      <div class="viewer-counter" id="viewerCounter"></div>
    </div>
  </div>

  <!-- Dohaena Description Modal -->
  <div class="description-modal" id="dohaenaDescriptionModal">
    <div class="description-content">
      <button class="description-close" onclick="closeDohaenaDescription()">Ã—</button>
      <h3 id="dohaenaDescriptionTitle"></h3>
      <p id="dohaenaDescriptionText"></p>
    </div>
  </div>

  <!-- Persona Chat Modal -->
  <div class="persona-chat-modal" id="personaChatModal">
    <div class="chat-container">
      <div class="chat-header">
        <button class="chat-back" onclick="closePersonaChat()">â†</button>
        <div class="chat-persona-info">
          <div class="chat-persona-avatar" id="chatPersonaAvatar"></div>
          <div>
            <div class="chat-persona-name" id="chatPersonaName"></div>
            <div class="chat-persona-status">ì˜¨ë¼ì¸</div>
          </div>
        </div>
        <button class="chat-menu">â‹¯</button>
      </div>
      <div class="chat-messages" id="chatMessages">
        <div class="message message-ai">
          <div class="message-content">
            ì•ˆë…•í•˜ì„¸ìš”! ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”?
          </div>
        </div>
      </div>
      <div class="chat-input-area">
        <button class="chat-attach" onclick="handleChatImageInput()">ğŸ“·</button>
        <textarea 
          id="chatInput" 
          placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”..."
          rows="1"
          style="flex: 1; padding: 0.75rem; border-radius: 20px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); color: var(--text-light); font-family: inherit; font-size: 1rem; resize: none; max-height: 120px; letter-spacing: -0.02em;"
        ></textarea>
        <button class="chat-send" onclick="sendChatMessage()">ì „ì†¡</button>
      </div>
    </div>
  </div>

  <!-- Create Modal -->
  <div class="description-modal" id="createModal">
    <div class="description-content" style="max-width: 500px;">
      <button class="description-close" onclick="closeCreateModal()">Ã—</button>
      <h3 style="margin-top: 0;">Create New</h3>
      <div style="margin-top: 1.5rem;">
        <div style="margin-bottom: 1rem;">
          <label style="display: block; margin-bottom: 0.5rem; font-size: 0.9rem; color: var(--text-muted);">ì‘ì—… ìœ í˜• ì„ íƒ</label>
          <select id="createActionType" style="width: 100%; padding: 0.75rem; border-radius: 12px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); color: var(--text-light); font-family: inherit; font-size: 1rem; cursor: pointer;">
            <option value="save_note">ğŸ“ ë©”ëª¨ ì €ì¥</option>
            <option value="instagram_post">ğŸ“± ì¸ìŠ¤íƒ€ê·¸ë¨ ê¸€ ì‘ì„±</option>
            <option value="image_prompt">ğŸ¨ ì´ë¯¸ì§€ ìƒì„±</option>
            <option value="draft_email">âœ‰ï¸ ì´ë©”ì¼ ì´ˆì•ˆ ì‘ì„±</option>
          </select>
        </div>
        <textarea 
          id="createTextInput" 
          placeholder="ë¬´ì—‡ì„ ê¸°ë¡í•˜ì‹œê² ì–´ìš”?"
          style="width: 100%; min-height: 120px; padding: 1rem; border-radius: 12px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); color: var(--text-light); font-family: inherit; font-size: 1rem; resize: vertical; letter-spacing: -0.02em;"
        ></textarea>
        <div style="display: flex; gap: 1rem; margin-top: 1rem;">
          <button onclick="handleVoiceInput()" style="flex: 1; padding: 0.75rem; border-radius: 12px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); color: var(--text-light); cursor: pointer; transition: all 0.2s ease;">
            ğŸ¤ ìŒì„±
          </button>
          <button onclick="handleImageInput()" style="flex: 1; padding: 0.75rem; border-radius: 12px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); color: var(--text-light); cursor: pointer; transition: all 0.2s ease;">
            ğŸ“· ì‚¬ì§„
          </button>
        </div>
        <button id="createSubmitButton" onclick="handleCreateSubmit()" style="width: 100%; margin-top: 1rem; padding: 1rem; border-radius: 12px; background: linear-gradient(135deg, var(--accent), #ff6b9d); border: none; color: white; font-weight: 600; cursor: pointer; transition: transform 0.2s ease; position: relative;">
          <span id="createSubmitText">ì „ì†¡í•˜ê¸°</span>
          <span id="createSubmitSpinner" style="display: none; position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%);">â³</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Settings Modal -->
  <div class="description-modal" id="settingsModal">
    <div class="description-content" style="max-width: 500px;">
      <button class="description-close" onclick="closeSettingsModal()">Ã—</button>
      <h3 style="margin-top: 0;">Settings</h3>
      <div style="margin-top: 1.5rem;">
        <div style="margin-bottom: 1.5rem;">
          <h4 style="margin: 0 0 0.5rem; color: var(--accent);">ì‹œìŠ¤í…œ ìƒíƒœ</h4>
          <div id="systemStatus" style="padding: 1rem; border-radius: 12px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); font-size: 0.9rem;">
            <div style="margin-bottom: 0.5rem;">n8n ì—°ê²°: <span id="n8nStatus" style="color: var(--accent);">í™•ì¸ ì¤‘...</span></div>
            <div>ë§ˆì§€ë§‰ ë™ê¸°í™”: <span id="lastSync" style="color: var(--text-muted);">-</span></div>
          </div>
        </div>
        <div style="margin-bottom: 1.5rem;">
          <h4 style="margin: 0 0 0.5rem; color: var(--accent);">ì•± ì •ë³´</h4>
          <div style="padding: 1rem; border-radius: 12px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); font-size: 0.9rem;">
            <div style="margin-bottom: 0.5rem;">ë²„ì „: 1.0.0</div>
            <div>herusphere Â© 2025</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Starfield Background -->
  <div class="starfield" id="starfield"></div>

  <script>
    // Create starfield background
    function createStarfield() {
      const starfield = document.getElementById('starfield');
      const numStars = 150;
      
      for (let i = 0; i < numStars; i++) {
        const star = document.createElement('div');
        star.className = 'star';
        
        const size = Math.random();
        if (size < 0.3) {
          star.classList.add('small');
        } else if (size < 0.7) {
          star.classList.add('medium');
        } else {
          star.classList.add('large');
        }
        
        star.style.left = Math.random() * 100 + '%';
        star.style.top = Math.random() * 100 + '%';
        star.style.animationDelay = Math.random() * 3 + 's';
        star.style.animationDuration = (Math.random() * 2 + 2) + 's';
        
        starfield.appendChild(star);
      }
    }

    // Initialize starfield on page load
    createStarfield();

    // Project image mappings
    const projectImages = {
      'ì°½ê³µ': [
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/1.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/2.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/3.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/4.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/5.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/6.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/7.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/8.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/9.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/10.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/11.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/12.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/13.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/14.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/15.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/16.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/17.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/18.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/19.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/20.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/21.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/22.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/23.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/24.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/25.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/26.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/27.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/28.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/29.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/30.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/31.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/32.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/33.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/34.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/35.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/36.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/37.png',
        'ì„ í˜œìœ¤/ì°½ê³µë¸Œëœë“œë¡ ì¹­ì œì•ˆì„œ/38.png'
      ],
      'í•œê°€': [
        'ì„ í˜œìœ¤/HANGA/17.png',
        'ì„ í˜œìœ¤/HANGA/18.png',
        'ì„ í˜œìœ¤/HANGA/19.png',
        'ì„ í˜œìœ¤/HANGA/20.png',
        'ì„ í˜œìœ¤/HANGA/21.png',
        'ì„ í˜œìœ¤/HANGA/22.png',
        'ì„ í˜œìœ¤/HANGA/23.png',
        'ì„ í˜œìœ¤/HANGA/24.png',
        'ì„ í˜œìœ¤/HANGA/25.png',
        'ì„ í˜œìœ¤/HANGA/26.png',
        'ì„ í˜œìœ¤/HANGA/27.png'
      ],
      'xhale': [
        'ì„ í˜œìœ¤/X HALE ENT/1.png',
        'ì„ í˜œìœ¤/X HALE ENT/2.png',
        'ì„ í˜œìœ¤/X HALE ENT/3.png',
        'ì„ í˜œìœ¤/X HALE ENT/4.png',
        'ì„ í˜œìœ¤/X HALE ENT/5.png',
        'ì„ í˜œìœ¤/X HALE ENT/6.png',
        'ì„ í˜œìœ¤/X HALE ENT/7.png',
        'ì„ í˜œìœ¤/X HALE ENT/8.png',
        'ì„ í˜œìœ¤/X HALE ENT/9.png',
        'ì„ í˜œìœ¤/X HALE ENT/10.png',
        'ì„ í˜œìœ¤/X HALE ENT/11.png',
        'ì„ í˜œìœ¤/X HALE ENT/12.png',
        'ì„ í˜œìœ¤/X HALE ENT/13.png',
        'ì„ í˜œìœ¤/X HALE ENT/14.png',
        'ì„ í˜œìœ¤/X HALE ENT/15.png',
        'ì„ í˜œìœ¤/X HALE ENT/16.png'
      ],
      'ë©”ê±°ì§„': [
        'ì„ í˜œìœ¤/ë§¤ê±°ì§„ ì‹œë©˜íŠ¸ í”¼ë“œ/1.png',
        'ì„ í˜œìœ¤/ë§¤ê±°ì§„ ì‹œë©˜íŠ¸ í”¼ë“œ/8.png',
        'ì„ í˜œìœ¤/ë§¤ê±°ì§„ ì‹œë©˜íŠ¸ í”¼ë“œ/19.png',
        'ì„ í˜œìœ¤/ë§¤ê±°ì§„ ì‹œë©˜íŠ¸ í”¼ë“œ/26.png',
        'ì„ í˜œìœ¤/ë§¤ê±°ì§„ ì‹œë©˜íŠ¸ í”¼ë“œ/36.png',
        'ì„ í˜œìœ¤/ë§¤ê±°ì§„ ì‹œë©˜íŠ¸ í”¼ë“œ/78.png',
        'ì„ í˜œìœ¤/ë§¤ê±°ì§„ ì‹œë©˜íŠ¸ í”¼ë“œ/lov3 ê°€ì‚¬lov3 ê°€ì‚¬.png',
        'ì„ í˜œìœ¤/ë§¤ê±°ì§„ ì‹œë©˜íŠ¸ í”¼ë“œ/lov3 ê°€ì‚¬lov3 ê°€ì‚¬ (2).png',
        'ì„ í˜œìœ¤/ë§¤ê±°ì§„ ì‹œë©˜íŠ¸ í”¼ë“œ/lov3 ê°€ì‚¬lov3 ê°€ì‚¬ (3).png',
        'ì„ í˜œìœ¤/ë§¤ê±°ì§„ ì‹œë©˜íŠ¸ í”¼ë“œ/lov3 ê°€ì‚¬lov3 ê°€ì‚¬ (4).png',
        'ì„ í˜œìœ¤/ë§¤ê±°ì§„ ì‹œë©˜íŠ¸ í”¼ë“œ/lov3 ê°€ì‚¬lov3 ê°€ì‚¬ (5).png'
      ],
      'ë°œë£¨ë„ì„œê´€': [
        'ì„ í˜œìœ¤/ë°œë£¨ë„ì„œê´€ ì•„íŠ¸ì›/1.png',
        'ì„ í˜œìœ¤/ë°œë£¨ë„ì„œê´€ ì•„íŠ¸ì›/2.png',
        'ì„ í˜œìœ¤/ë°œë£¨ë„ì„œê´€ ì•„íŠ¸ì›/3.png',
        'ì„ í˜œìœ¤/ë°œë£¨ë„ì„œê´€ ì•„íŠ¸ì›/4.png',
        'ì„ í˜œìœ¤/ë°œë£¨ë„ì„œê´€ ì•„íŠ¸ì›/5.png',
        'ì„ í˜œìœ¤/ë°œë£¨ë„ì„œê´€ ì•„íŠ¸ì›/54.png',
        'ì„ í˜œìœ¤/ë°œë£¨ë„ì„œê´€ ì•„íŠ¸ì›/55.png',
        'ì„ í˜œìœ¤/ë°œë£¨ë„ì„œê´€ ì•„íŠ¸ì›/56.png',
        'ì„ í˜œìœ¤/ë°œë£¨ë„ì„œê´€ ì•„íŠ¸ì›/57.png',
        'ì„ í˜œìœ¤/ë°œë£¨ë„ì„œê´€ ì•„íŠ¸ì›/58.png',
        'ì„ í˜œìœ¤/ë°œë£¨ë„ì„œê´€ ì•„íŠ¸ì›/59.png',
        'ì„ í˜œìœ¤/ë°œë£¨ë„ì„œê´€ ì•„íŠ¸ì›/60.png',
        'ì„ í˜œìœ¤/ë°œë£¨ë„ì„œê´€ ì•„íŠ¸ì›/61.png',
        'ì„ í˜œìœ¤/ë°œë£¨ë„ì„œê´€ ì•„íŠ¸ì›/62.png',
        'ì„ í˜œìœ¤/ë°œë£¨ë„ì„œê´€ ì•„íŠ¸ì›/63.png',
        'ì„ í˜œìœ¤/ë°œë£¨ë„ì„œê´€ ì•„íŠ¸ì›/64.png',
        'ì„ í˜œìœ¤/ë°œë£¨ë„ì„œê´€ ì•„íŠ¸ì›/65.png'
      ],
      'ì„ í˜œìœ¤ì•„íŠ¸ì›': [
        'ì„ í˜œìœ¤/ì„ í˜œìœ¤ ì•„íŠ¸ì›/48.png'
      ]
    };

    let currentProject = null;
    let currentImageIndex = 0;
    let currentImages = [];

    function showSunheyoonGallery() {
      document.getElementById('sunheyoonGallery').classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    function closeSunheyoonGallery() {
      document.getElementById('sunheyoonGallery').classList.remove('active');
      document.body.style.overflow = '';
    }

    function openImageViewer(projectName) {
      currentProject = projectName;
      currentImages = projectImages[projectName] || [];
      currentImageIndex = 0;
      
      if (currentImages.length > 0) {
        updateViewerImage();
        document.getElementById('imageViewer').classList.add('active');
        document.body.style.overflow = 'hidden';
      }
    }

    function closeImageViewer() {
      document.getElementById('imageViewer').classList.remove('active');
      document.body.style.overflow = '';
    }

    function changeImage(direction) {
      if (currentImages.length === 0) return;
      
      currentImageIndex += direction;
      
      if (currentImageIndex < 0) {
        currentImageIndex = currentImages.length - 1;
      } else if (currentImageIndex >= currentImages.length) {
        currentImageIndex = 0;
      }
      
      updateViewerImage();
    }

    function updateViewerImage() {
      if (currentImages.length === 0) return;
      
      const viewerImage = document.getElementById('viewerImage');
      const imagePath = currentImages[currentImageIndex];
      
      // Add fade out animation
      viewerImage.style.opacity = '0';
      viewerImage.style.transform = 'scale(0.9) rotateY(-10deg)';
      viewerImage.style.filter = 'blur(10px)';
      
      setTimeout(() => {
        viewerImage.src = imagePath;
        viewerImage.style.opacity = '1';
        viewerImage.style.transform = 'scale(1) rotateY(0deg)';
        viewerImage.style.filter = 'blur(0)';
        document.getElementById('viewerCounter').textContent = 
          `${currentImageIndex + 1} / ${currentImages.length}`;
      }, 200);
    }

    // Keyboard navigation
    document.addEventListener('keydown', function(e) {
      const viewer = document.getElementById('imageViewer');
      if (viewer.classList.contains('active')) {
        if (e.key === 'ArrowLeft') {
          changeImage(-1);
        } else if (e.key === 'ArrowRight') {
          changeImage(1);
        } else if (e.key === 'Escape') {
          closeImageViewer();
        }
      }
    });

    // Close gallery when clicking outside
    document.getElementById('sunheyoonGallery').addEventListener('click', function(e) {
      if (e.target === this) {
        closeSunheyoonGallery();
      }
    });

    document.getElementById('imageViewer').addEventListener('click', function(e) {
      if (e.target === this || e.target.classList.contains('viewer-container')) {
        closeImageViewer();
      }
    });

    // Dohaena Portfolio Descriptions
    const dohaenaDescriptions = [
      {
        title: "ë„ì‹œì˜ ë¦¬ë“¬",
        description: "ë„ì‹¬ ì† ì¼ìƒì˜ ë¦¬ë“¬ì„ í¬ì°©í•œ ì—ë””í† ë¦¬ì–¼ ì‘í’ˆ. ë„ì‹œì˜ ì›€ì§ì„ê³¼ ì •ì ì˜ ëŒ€ë¹„ë¥¼ í†µí•´ í˜„ëŒ€ì¸ì˜ ì‚¶ì„ ì‹œê°ì ìœ¼ë¡œ í‘œí˜„í–ˆìŠµë‹ˆë‹¤."
      },
      {
        title: "ë¬¸í™”ì˜ ê²½ê³„",
        description: "ì„œë¡œ ë‹¤ë¥¸ ë¬¸í™”ê°€ ë§Œë‚˜ëŠ” ì§€ì ì„ íƒêµ¬í•œ ê¸°íšë¬¼. ê²½ê³„ë¥¼ ë„˜ë‚˜ë“œëŠ” ì´ì•¼ê¸°ë¥¼ í†µí•´ ë‹¤ë¬¸í™”ì  ì‹œê°ì„ ì œì‹œí•©ë‹ˆë‹¤."
      },
      {
        title: "í…ìŠ¤íŠ¸ì™€ ì´ë¯¸ì§€ì˜ ëŒ€í™”",
        description: "ì–¸ì–´ì™€ ì‹œê°ì´ ë§Œë‚˜ ìƒˆë¡œìš´ ì˜ë¯¸ë¥¼ ë§Œë“¤ì–´ë‚´ëŠ” ì‹¤í—˜ì  ë ˆì´ì•„ì›ƒ. ì—ë””í† ë¦¬ì–¼ ë””ìì¸ì˜ ê°€ëŠ¥ì„±ì„ í™•ì¥í•©ë‹ˆë‹¤."
      },
      {
        title: "ì¸ë¬¸í•™ì  ì‹œì„ ",
        description: "ì¤‘ì•™ëŒ€ì—ì„œ ìŒ“ì€ ì¸ë¬¸í•™ì  ê¸°ë°˜ì„ ë°”íƒ•ìœ¼ë¡œ í•œ ê¹Šì´ ìˆëŠ” ê¸°íš. ì² í•™ì  ì‚¬ìœ ì™€ ì‹œê°ì  í‘œí˜„ì˜ ê²°í•©ì…ë‹ˆë‹¤."
      },
      {
        title: "ê°ê°ì  ìŠ¤í† ë¦¬í…”ë§",
        description: "ì´ë¯¸ì§€ì™€ í…ìŠ¤íŠ¸ì˜ ì¡°í™”ë¥¼ í†µí•´ ë…ìì˜ ê°ê°ì„ ìê·¹í•˜ëŠ” ì—ë””í† ë¦¬ì–¼. ê°ì„±ì  ì†Œí†µì„ ì¶”êµ¬í•©ë‹ˆë‹¤."
      },
      {
        title: "ë„ì‹œ í’ê²½ì˜ í•´ì„",
        description: "ì¼ìƒì˜ í’ê²½ì„ ìƒˆë¡œìš´ ì‹œê°ìœ¼ë¡œ ì¬í•´ì„í•œ ì‘í’ˆ. ìµìˆ™í•œ ê³µê°„ì— ìˆ¨ê²¨ì§„ ì˜ë¯¸ë¥¼ ë°œê²¬í•©ë‹ˆë‹¤."
      },
      {
        title: "ë¬¸í™” ê¸°íšì˜ ì‹¤í—˜",
        description: "ì „í†µì ì¸ ë§¤ê±°ì§„ í˜•ì‹ì„ ë„˜ì–´ì„  ì‹¤í—˜ì  ê¸°íš. ë…ì°½ì ì¸ ë ˆì´ì•„ì›ƒê³¼ ì½˜í…ì¸  êµ¬ì„±ì´ ë‹ë³´ì…ë‹ˆë‹¤."
      },
      {
        title: "ì‹œê°ì  ì–¸ì–´",
        description: "ì´ë¯¸ì§€ë§Œìœ¼ë¡œë„ ì´ì•¼ê¸°ë¥¼ ì „ë‹¬í•˜ëŠ” ì‹œê°ì  ì–¸ì–´ì˜ í˜. ë¯¸ë‹ˆë©€í•œ êµ¬ì„± ì†ì— ë‹´ê¸´ ê¹Šì€ ë©”ì‹œì§€."
      },
      {
        title: "ì—ë””í† ë¦¬ì–¼ ë””ìì¸",
        description: "ë¸Œëœì‹œìŠ¤ ë§¤ê±°ì§„ì˜ ì•„ì´ë´í‹°í‹°ë¥¼ ë°˜ì˜í•œ ì—ë””í† ë¦¬ì–¼ ë””ìì¸. ì¼ê´€ëœ ì‹œê° ì–¸ì–´ë¡œ ë¸Œëœë“œ ê°€ì¹˜ë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤."
      },
      {
        title: "ì½˜í…ì¸  ê¸°íš",
        description: "ë…ìì˜ ê´€ì ì„ ê³ ë ¤í•œ ì„¸ì‹¬í•œ ì½˜í…ì¸  ê¸°íš. ì½ëŠ” ì¦ê±°ì›€ê³¼ ì‹œê°ì  ê²½í—˜ì„ ë™ì‹œì— ì œê³µí•©ë‹ˆë‹¤."
      },
      {
        title: "ì°½ì˜ì  ë ˆì´ì•„ì›ƒ",
        description: "ê·œì¹™ì„ ê¹¨ëŠ” ì°½ì˜ì  ë ˆì´ì•„ì›ƒ ì‹¤í—˜. ê³µê°„ì˜ í™œìš©ê³¼ íƒ€ì´í¬ê·¸ë˜í”¼ì˜ ì¡°í™”ê°€ ì¸ìƒì ì…ë‹ˆë‹¤."
      },
      {
        title: "ìŠ¤í† ë¦¬í…”ë§ì˜ í™•ì¥",
        description: "ë‹¨ìˆœí•œ ì •ë³´ ì „ë‹¬ì„ ë„˜ì–´ì„  ìŠ¤í† ë¦¬í…”ë§. ë…ìì™€ì˜ ê°ì •ì  ì—°ê²°ì„ ì¶”êµ¬í•˜ëŠ” ì—ë””í† ë¦¬ì–¼ ì‘í’ˆ."
      },
      {
        title: "í¸ì§‘ìì˜ ì‹œì„ ",
        description: "ì—ë””í„°ë¡œì„œì˜ í†µì°°ë ¥ì´ ë“œëŸ¬ë‚˜ëŠ” ì‘í’ˆ. ì½˜í…ì¸ ì˜ ë³¸ì§ˆì„ ê¿°ëš«ëŠ” ê¸°íšë ¥ê³¼ ì‹œê°ì  ê°ê°ì´ ì¡°í™”ë¥¼ ì´ë£¹ë‹ˆë‹¤."
      }
    ];

    function showDohaenaDescription(index) {
      const modal = document.getElementById('dohaenaDescriptionModal');
      const title = document.getElementById('dohaenaDescriptionTitle');
      const description = document.getElementById('dohaenaDescriptionText');
      
      if (dohaenaDescriptions[index]) {
        title.textContent = dohaenaDescriptions[index].title;
        description.textContent = dohaenaDescriptions[index].description;
        modal.classList.add('active');
        document.body.style.overflow = 'hidden';
      }
    }

    function closeDohaenaDescription() {
      const modal = document.getElementById('dohaenaDescriptionModal');
      modal.classList.remove('active');
      document.body.style.overflow = '';
    }

    // Close modal when clicking outside
    document.getElementById('dohaenaDescriptionModal').addEventListener('click', function(e) {
      if (e.target === this) {
        closeDohaenaDescription();
      }
    });

    // Create Modal Functions
    function showCreateModal() {
      const modal = document.getElementById('createModal');
      modal.classList.add('active');
      document.body.style.overflow = 'hidden';
      setTimeout(() => {
        document.getElementById('createTextInput').focus();
      }, 300);
    }

    function closeCreateModal() {
      const modal = document.getElementById('createModal');
      modal.classList.remove('active');
      document.body.style.overflow = '';
      document.getElementById('createTextInput').value = '';
    }

    function handleVoiceInput() {
      alert('ìŒì„± ì…ë ¥ ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.');
    }

    async function handleImageInput() {
      const input = document.createElement('input');
      input.type = 'file';
      input.accept = 'image/*';
      input.onchange = async (e) => {
        const file = e.target.files[0];
        if (!file) return;

        const reader = new FileReader();
        reader.onload = async (event) => {
          const imageData = event.target.result;
          const text = document.getElementById('createTextInput').value;

          // Send to n8n webhook (ì´ë¯¸ì§€ ì²¨ë¶€ëŠ” image_promptë¡œ ì²˜ë¦¬)
          const selectedActionType = document.getElementById('createActionType')?.value || 'image_prompt';
          const result = await sendToN8N({
            actionType: selectedActionType,
            content: text,
            image: imageData,
            imageName: file.name,
            persona: currentPersona || 'default',
            timestamp: new Date().toISOString(),
            source: 'create_modal_image'
          });

          if (result.success) {
            alert('ì´ë¯¸ì§€ì™€ ë©”ì‹œì§€ê°€ ì „ì†¡ë˜ì—ˆìŠµë‹ˆë‹¤!');
            closeCreateModal();
          } else {
            alert('ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ' + result.error);
          }
        };
        reader.readAsDataURL(file);
      };
      input.click();
    }

    // n8n Webhook URL (í”„ë¡ì‹œë¥¼ í†µí•´ í˜¸ì¶œ)
    const PROXY_API_URL = '/api/proxy';

    async function sendToN8N(data) {
      try {
        const response = await fetch(PROXY_API_URL, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });

        if (response.ok) {
          const result = await response.json();
          return { success: true, data: result };
        } else {
          return { success: false, error: 'ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.' };
        }
      } catch (error) {
        console.error('n8n ì›¹í›… ì˜¤ë¥˜:', error);
        return { success: false, error: error.message };
      }
    }

    async function handleCreateSubmit() {
      const text = document.getElementById('createTextInput').value.trim();
      if (!text) {
        alert('ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
        return;
      }

      const submitButton = document.getElementById('createSubmitButton');
      const submitText = document.getElementById('createSubmitText');
      const submitSpinner = document.getElementById('createSubmitSpinner');

      // ë¡œë”© ìƒíƒœë¡œ ë³€ê²½
      submitButton.disabled = true;
      submitText.style.opacity = '0';
      submitSpinner.style.display = 'inline-block';

      try {
        // í”„ë¡ì‹œ APIë¥¼ í†µí•´ n8n ì›¹í›…ìœ¼ë¡œ ì „ì†¡ (í…ŒìŠ¤íŠ¸ìš©: ë¬´ì¡°ê±´ instagram_post)
        const response = await fetch(PROXY_API_URL, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            actionType: 'instagram_post',
            content: text
          })
        });

        // ë¡œë”© ìƒíƒœ í•´ì œ
        submitButton.disabled = false;
        submitText.style.opacity = '1';
        submitSpinner.style.display = 'none';

        if (response.ok) {
          // ì„±ê³µ ì•Œë¦¼
          alert('ì „ì†¡ ì™„ë£Œ!');
          closeCreateModal();
          
          // ì…ë ¥ì°½ ì´ˆê¸°í™”
          document.getElementById('createTextInput').value = '';
          
          // í™ˆ í˜ì´ì§€ê°€ í™œì„±í™”ë˜ì–´ ìˆìœ¼ë©´ ìµœê·¼ í™œë™ ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•´ ìƒˆë¡œê³ ì¹¨
          if (document.getElementById('page-home').classList.contains('active')) {
            // ìµœê·¼ í™œë™ì„ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆë„ë¡ (ì„ íƒì‚¬í•­)
            // location.reload(); // í•„ìš”ì‹œ ì£¼ì„ í•´ì œ
          }
        } else {
          alert('ì „ì†¡ ì‹¤íŒ¨: ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
        }
      } catch (error) {
        // ë¡œë”© ìƒíƒœ í•´ì œ
        submitButton.disabled = false;
        submitText.style.opacity = '1';
        submitSpinner.style.display = 'none';
        
        console.error('n8n ì›¹í›… ì˜¤ë¥˜:', error);
        alert('ì „ì†¡ ì‹¤íŒ¨: ' + error.message);
      }
    }

    // Settings Modal Functions
    function showSettingsModal() {
      const modal = document.getElementById('settingsModal');
      modal.classList.add('active');
      document.body.style.overflow = 'hidden';
      // n8n ìƒíƒœ í™•ì¸
      checkN8NStatus();
    }

    function closeSettingsModal() {
      const modal = document.getElementById('settingsModal');
      modal.classList.remove('active');
      document.body.style.overflow = '';
    }

    async function checkN8NStatus() {
      const statusElement = document.getElementById('n8nStatus');
      const syncElement = document.getElementById('lastSync');
      
      if (!statusElement || !syncElement) return;

      statusElement.textContent = 'í™•ì¸ ì¤‘...';
      statusElement.style.color = 'var(--text-muted)';

      try {
        // n8n ì›¹í›…ì— ìƒíƒœ í™•ì¸ ìš”ì²­ ì „ì†¡
        const result = await sendToN8N({
          actionType: 'status_check',
          timestamp: new Date().toISOString()
        });

        if (result.success) {
          statusElement.textContent = 'ì—°ê²°ë¨';
          statusElement.style.color = 'var(--accent)';
          syncElement.textContent = new Date().toLocaleTimeString('ko-KR');
        } else {
          statusElement.textContent = 'ì—°ê²° ì‹¤íŒ¨';
          statusElement.style.color = '#ff4444';
          syncElement.textContent = 'ì˜¤ë¥˜ ë°œìƒ';
        }
      } catch (error) {
        statusElement.textContent = 'ì—°ê²° ì‹¤íŒ¨';
        statusElement.style.color = '#ff4444';
        syncElement.textContent = 'ì˜¤ë¥˜ ë°œìƒ';
      }
    }

    // Close modals when clicking outside
    document.getElementById('createModal').addEventListener('click', function(e) {
      if (e.target === this) {
        closeCreateModal();
      }
    });

    document.getElementById('settingsModal').addEventListener('click', function(e) {
      if (e.target === this) {
        closeSettingsModal();
      }
    });

    // Auto-resize textarea
    document.getElementById('createTextInput').addEventListener('input', function() {
      this.style.height = 'auto';
      this.style.height = Math.min(this.scrollHeight, 300) + 'px';
    });

    // Page Navigation
    function showPage(pageName) {
      // Hide all pages
      document.querySelectorAll('.page-content').forEach(page => {
        page.classList.remove('active');
        page.style.display = 'none';
      });

      // Show selected page
      const targetPage = document.getElementById(`page-${pageName}`);
      if (targetPage) {
        targetPage.classList.add('active');
        targetPage.style.display = 'block';
      }

      // Update nav items
      document.querySelectorAll('.nav-item').forEach(item => {
        item.classList.remove('active');
        if (item.dataset.page === pageName) {
          item.classList.add('active');
        }
      });

      // Check n8n status if settings page
      if (pageName === 'settings') {
        checkN8NStatus();
      }
    }

    // Initialize: Show home page
    showPage('home');

    // Persona Chat Functions
    let currentPersona = null;
    const personaInfo = {
      'ë„í˜œë‚˜': {
        name: 'ë„í˜œë‚˜',
        avatar: 'ë„í˜œë‚˜/ë„í˜œë‚˜ í”„ë¡œí•„.JPG',
        description: 'ë¸Œëœì‹œìŠ¤ ë§¤ê±°ì§„ ì—ë””í„°'
      },
      'ì„ í˜œìœ¤': {
        name: 'ì„ í˜œìœ¤',
        avatar: 'ì„ í˜œìœ¤/ì„ í˜œìœ¤í”„ë¡œí•„.png',
        description: 'ë¸Œëœë“œ ë§ˆì¼€í„°'
      },
      'ì„œì´ì •': {
        name: 'ì„œì´ì •',
        avatar: 'images/seoijeong-card.jpg',
        description: 'ì² í•™ê°€'
      },
      'í•œí˜œë‘': {
        name: 'í•œí˜œë‘',
        avatar: 'images/hanhaerang-card.jpg',
        description: 'í•œê°€ë¬¸ ë§‰ë‚´'
      },
      'ì²œë‹¤í˜œ': {
        name: 'ì²œë‹¤í˜œ',
        avatar: 'images/cheondahye-card.jpg',
        description: 'ì¸í”Œë£¨ì–¸ì„œ'
      },
      'í—¤ë¥´ë¯¸ë„¤': {
        name: 'í—¤ë¥´ë¯¸ë„¤',
        avatar: 'images/hermine-card.jpg',
        description: 'ì‘ê°€'
      },
      'ì‚¬ì—¬ë³„': {
        name: 'ì‚¬ì—¬ë³„',
        avatar: 'images/sayabyeol-card.jpg',
        description: 'ì—¬ìš° ìºë¦­í„°'
      }
    };

    function openPersonaChat(personaName) {
      currentPersona = personaName;
      const info = personaInfo[personaName];
      
      if (info) {
        document.getElementById('chatPersonaName').textContent = info.name;
        const avatar = document.getElementById('chatPersonaAvatar');
        if (info.avatar) {
          avatar.style.backgroundImage = `url(${info.avatar})`;
          avatar.style.backgroundSize = 'cover';
          avatar.style.backgroundPosition = 'center';
        }
      }

      document.getElementById('personaChatModal').classList.add('active');
      document.body.style.overflow = 'hidden';
      
      // Clear messages and add welcome message
      const messagesContainer = document.getElementById('chatMessages');
      messagesContainer.innerHTML = `
        <div class="message message-ai">
          <div class="message-content">
            ì•ˆë…•í•˜ì„¸ìš”, ${personaName}ì…ë‹ˆë‹¤. ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”?
          </div>
        </div>
      `;
      
      setTimeout(() => {
        document.getElementById('chatInput').focus();
      }, 300);
    }

    function closePersonaChat() {
      document.getElementById('personaChatModal').classList.remove('active');
      document.body.style.overflow = '';
      currentPersona = null;
    }

    async function sendChatMessage() {
      const input = document.getElementById('chatInput');
      const message = input.value.trim();
      
      if (!message || !currentPersona) return;

      // Add user message
      const messagesContainer = document.getElementById('chatMessages');
      const userMessage = document.createElement('div');
      userMessage.className = 'message message-user';
      userMessage.innerHTML = `<div class="message-content">${message}</div>`;
      messagesContainer.appendChild(userMessage);

      // Clear input
      input.value = '';
      input.style.height = 'auto';

      // Scroll to bottom
      messagesContainer.scrollTop = messagesContainer.scrollHeight;

      // Show loading message
      const loadingMessage = document.createElement('div');
      loadingMessage.className = 'message message-ai';
      loadingMessage.innerHTML = `<div class="message-content">ì²˜ë¦¬ ì¤‘...</div>`;
      messagesContainer.appendChild(loadingMessage);
      messagesContainer.scrollTop = messagesContainer.scrollHeight;

      // Send to n8n webhook (í˜ë¥´ì†Œë‚˜ ì±„íŒ…ì€ ê¸°ë³¸ì ìœ¼ë¡œ save_noteë¡œ ì²˜ë¦¬)
      const result = await sendToN8N({
        actionType: 'save_note',
        persona: currentPersona,
        content: message,
        timestamp: new Date().toISOString(),
        source: 'persona_chat'
      });

      // Remove loading message
      loadingMessage.remove();

      // Add AI response
      const aiMessage = document.createElement('div');
      aiMessage.className = 'message message-ai';
      
      if (result.success) {
        // n8nì—ì„œ ë°˜í™˜ëœ ì‘ë‹µ ì‚¬ìš© (ìˆëŠ” ê²½ìš°)
        const responseText = result.data?.response || result.data?.message || 
          `${currentPersona} í˜ë¥´ì†Œë‚˜ë¡œ ë©”ì‹œì§€ë¥¼ ì²˜ë¦¬í–ˆìŠµë‹ˆë‹¤.`;
        aiMessage.innerHTML = `<div class="message-content">${responseText}</div>`;
      } else {
        aiMessage.innerHTML = `<div class="message-content">ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ${result.error}</div>`;
      }
      
      messagesContainer.appendChild(aiMessage);
      messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }

    async function handleChatImageInput() {
      const input = document.createElement('input');
      input.type = 'file';
      input.accept = 'image/*';
      input.onchange = async (e) => {
        const file = e.target.files[0];
        if (!file) return;

        const reader = new FileReader();
        reader.onload = async (event) => {
          const imageData = event.target.result;
          const messagesContainer = document.getElementById('chatMessages');
          
          // Show image in chat
          const userMessage = document.createElement('div');
          userMessage.className = 'message message-user';
          userMessage.innerHTML = `
            <div class="message-content">
              <img src="${imageData}" alt="Uploaded image" style="max-width: 200px; border-radius: 12px; margin-top: 0.5rem;" />
            </div>
          `;
          messagesContainer.appendChild(userMessage);
          messagesContainer.scrollTop = messagesContainer.scrollHeight;

          // Show loading
          const loadingMessage = document.createElement('div');
          loadingMessage.className = 'message message-ai';
          loadingMessage.innerHTML = `<div class="message-content">ì´ë¯¸ì§€ ì²˜ë¦¬ ì¤‘...</div>`;
          messagesContainer.appendChild(loadingMessage);
          messagesContainer.scrollTop = messagesContainer.scrollHeight;

          // Send to n8n webhook (ì´ë¯¸ì§€ ì²¨ë¶€ëŠ” image_promptë¡œ ì²˜ë¦¬)
          const result = await sendToN8N({
            actionType: 'image_prompt',
            persona: currentPersona || 'default',
            content: '',
            image: imageData,
            imageName: file.name,
            timestamp: new Date().toISOString(),
            source: 'persona_chat_image'
          });

          // Remove loading message
          loadingMessage.remove();

          // Add AI response
          const aiMessage = document.createElement('div');
          aiMessage.className = 'message message-ai';
          
          if (result.success) {
            const responseText = result.data?.response || result.data?.message || 
              'ì´ë¯¸ì§€ë¥¼ ë°›ì•˜ìŠµë‹ˆë‹¤. ì²˜ë¦¬ ì¤‘ì…ë‹ˆë‹¤...';
            aiMessage.innerHTML = `<div class="message-content">${responseText}</div>`;
          } else {
            aiMessage.innerHTML = `<div class="message-content">ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ${result.error}</div>`;
          }
          
          messagesContainer.appendChild(aiMessage);
          messagesContainer.scrollTop = messagesContainer.scrollHeight;
        };
        reader.readAsDataURL(file);
      };
      input.click();
    }

    // Enter key to send message
    document.getElementById('chatInput').addEventListener('keydown', function(e) {
      if (e.key === 'Enter' && !e.shiftKey) {
        e.preventDefault();
        sendChatMessage();
      }
    });

    // Auto-resize chat textarea
    document.getElementById('chatInput').addEventListener('input', function() {
      this.style.height = 'auto';
      this.style.height = Math.min(this.scrollHeight, 120) + 'px';
    });
  </script>
</body>
</html>
